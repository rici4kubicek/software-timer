

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>API reference &mdash; Software Timer - Documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=5929fcd5"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Getting started" href="getting_started.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Software Timer
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="getting_started.html#installation-and-integration-into-a-project">Installation and integration into a project</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting_started.html#quick-usage-example">Quick usage example</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting_started.html#one-shot-timer-example">One-shot timer example</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting_started.html#key-features">Key features</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting_started.html#configuring-assertion-behavior">Configuring assertion behavior</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting_started.html#notes">Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting_started.html#further-reading">Further reading</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">API reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="#complete-api">Complete API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv423SoftwareTimer_ClockTime"><code class="docutils literal notranslate"><span class="pre">SoftwareTimer_ClockTime</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv418SoftwareTimer_Init23SoftwareTimer_ClockTime"><code class="docutils literal notranslate"><span class="pre">SoftwareTimer_Init()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv417SoftwareTimer_SetP13SoftwareTimer8uint32_t"><code class="docutils literal notranslate"><span class="pre">SoftwareTimer_Set()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv423SoftwareTimer_IsExpiredP13SoftwareTimer"><code class="docutils literal notranslate"><span class="pre">SoftwareTimer_IsExpired()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv423SoftwareTimer_RemainingP13SoftwareTimer"><code class="docutils literal notranslate"><span class="pre">SoftwareTimer_Remaining()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv436SoftwareTimer_IsExpiredEvaluatedOnceP13SoftwareTimer"><code class="docutils literal notranslate"><span class="pre">SoftwareTimer_IsExpiredEvaluatedOnce()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv49clockTime"><code class="docutils literal notranslate"><span class="pre">clockTime</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv413SoftwareTimer"><code class="docutils literal notranslate"><span class="pre">SoftwareTimer</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Software Timer</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">API reference</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/api.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="api-reference">
<h1>API reference<a class="headerlink" href="#api-reference" title="Link to this heading"></a></h1>
<p>This section documents the public C API of the library. The documentation is
extracted from header comments and grouped using Doxygen.</p>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading"></a></h2>
<p>The complete API is organized in the <code class="docutils literal notranslate"><span class="pre">software_timer_core</span></code> group, which includes:</p>
<ul class="simple">
<li><p>Main structure: <code class="docutils literal notranslate"><span class="pre">SoftwareTimer</span></code></p></li>
<li><p>Type definition: <code class="docutils literal notranslate"><span class="pre">SoftwareTimer_ClockTime</span></code></p></li>
<li><p>Functions: <code class="docutils literal notranslate"><span class="pre">SoftwareTimer_Init()</span></code>, <code class="docutils literal notranslate"><span class="pre">SoftwareTimer_Set()</span></code>, etc.</p></li>
<li><p>Main header file: <code class="docutils literal notranslate"><span class="pre">include/software_timer.h</span></code></p></li>
</ul>
</section>
<section id="complete-api">
<h2>Complete API<a class="headerlink" href="#complete-api" title="Link to this heading"></a></h2>
<dl>
<dt class="sig sig-object cpp">
<span class="target" id="group__software__timer__core"></span><em><span class="pre">group</span></em> <span class="sig-name descname"><span class="pre">Core</span> <span class="pre">API</span></span></dt>
<dd><p>Core structures and functions for software timer management. </p>
<p>This module provides the main timer functionality including initialization, timer configuration, expiration checking, and remaining time queries. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-typedefs">Typedefs</p>
<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv423SoftwareTimer_ClockTime">
<span id="_CPPv323SoftwareTimer_ClockTime"></span><span id="_CPPv223SoftwareTimer_ClockTime"></span><span id="SoftwareTimer_ClockTime"></span><span class="target" id="group__software__timer__core_1ga4772dbb978ef2c01567c40f30dac8b86"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">SoftwareTimer_ClockTime</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="kt"><span class="pre">void</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv423SoftwareTimer_ClockTime" title="Link to this definition"></a><br /></dt>
<dd><p>Function pointer type for clock time provider callback. </p>
<p>This callback function should return a monotonically increasing clock value in ticks. The tick unit (milliseconds, microseconds, etc.) is application-defined but must be consistent across all timer operations.</p>
<p>
Example implementation for milliseconds: <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">uint32_t</span> <span class="n">millis</span><span class="p">(</span><span class="n">void</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">HAL_GetTick</span><span class="p">();</span> <span class="o">//</span> <span class="ow">or</span> <span class="n">equivalent</span> <span class="n">platform</span> <span class="n">function</span>
<span class="p">}</span>
</pre></div>
</div>
 </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The clock function must never return decreasing values (except during overflow). </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Clock overflow at 32-bit boundary (UINT32_MAX -&gt; 0) is handled safely.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p>Current time value in ticks</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv418SoftwareTimer_Init23SoftwareTimer_ClockTime">
<span id="_CPPv318SoftwareTimer_Init23SoftwareTimer_ClockTime"></span><span id="_CPPv218SoftwareTimer_Init23SoftwareTimer_ClockTime"></span><span id="SoftwareTimer_Init__SoftwareTimer_ClockTime"></span><span class="target" id="group__software__timer__core_1ga89a07d416bc8626cd10c77cb0ee8d4dc"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">SoftwareTimer_Init</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv423SoftwareTimer_ClockTime" title="SoftwareTimer_ClockTime"><span class="n"><span class="pre">SoftwareTimer_ClockTime</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">clock</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv418SoftwareTimer_Init23SoftwareTimer_ClockTime" title="Link to this definition"></a><br /></dt>
<dd><p>Initializes the software timer module with clock source. </p>
<p>This function must be called once during system initialization before using any timer functionality. The provided clock source function will be used by all timer operations to obtain the current time.</p>
<p>
Example: <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SoftwareTimer_Init</span><span class="p">(</span><span class="n">HAL_GetTick</span><span class="p">);</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#group__software__timer__core_1ga4772dbb978ef2c01567c40f30dac8b86"><span class="std std-ref">SoftwareTimer_ClockTime</span></a></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#group__software__timer__core_1ga7ef903fd480cfbe051fecdea319d527f"><span class="std std-ref">SoftwareTimer_Set</span></a></p>
</div>
</p>
<p>Stores the clock function pointer for later use by timer operations. This function must be called before any timer functionality is used.</p>
<p>Implementation simply stores the provided clock function pointer in the static clockTime variable. Includes defensive check for NULL pointer in debug builds. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function is NOT thread-safe. Call it only during initialization before any concurrent access occurs. </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Parameter validation: In debug builds (when NDEBUG is not defined), this function asserts if clock is NULL. You can customize the assertion behavior by defining SOFTWARETIMER_ASSERT before compiling the library.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>clock</strong> – <strong>[in]</strong> Function pointer to clock time provider. Must not be NULL. The function should return monotonically increasing values.</p>
</dd>
<dt class="field-even">Pre<span class="colon">:</span></dt>
<dd class="field-even"><p>clock must point to a valid function </p>
</dd>
<dt class="field-odd">Post<span class="colon">:</span></dt>
<dd class="field-odd"><p>All subsequent timer operations will use the provided clock source</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv417SoftwareTimer_SetP13SoftwareTimer8uint32_t">
<span id="_CPPv317SoftwareTimer_SetP13SoftwareTimer8uint32_t"></span><span id="_CPPv217SoftwareTimer_SetP13SoftwareTimer8uint32_t"></span><span id="SoftwareTimer_Set__SoftwareTimerP.uint32_t"></span><span class="target" id="group__software__timer__core_1ga7ef903fd480cfbe051fecdea319d527f"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">SoftwareTimer_Set</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv413SoftwareTimer" title="SoftwareTimer"><span class="n"><span class="pre">SoftwareTimer</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">timer</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">interval</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv417SoftwareTimer_SetP13SoftwareTimer8uint32_t" title="Link to this definition"></a><br /></dt>
<dd><p>Sets and starts a software timer with specified interval. </p>
<p>Captures the current time from the clock source and configures the timer to expire after the specified interval. The timer becomes active immediately and starts counting from the current time. Any previous timer state is overwritten, including the evaluated flag.</p>
<p>
Example: <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SoftwareTimer</span> <span class="n">myTimer</span><span class="p">;</span>
<span class="n">SoftwareTimer_Set</span><span class="p">(</span><span class="o">&amp;</span><span class="n">myTimer</span><span class="p">,</span> <span class="mi">1000</span><span class="p">);</span> <span class="o">//</span> <span class="n">Set</span> <span class="k">for</span> <span class="mi">1000</span> <span class="n">ticks</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#group__software__timer__core_1ga89a07d416bc8626cd10c77cb0ee8d4dc"><span class="std std-ref">SoftwareTimer_Init</span></a></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#group__software__timer__core_1gadb7714439b61db00ea1af95b0f501ff9"><span class="std std-ref">SoftwareTimer_IsExpired</span></a></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#group__software__timer__core_1gac56ff3121b1a2680f8592fea71bb9201"><span class="std std-ref">SoftwareTimer_Remaining</span></a></p>
</div>
</p>
<p>Captures the current time as start reference and configures the timer to expire after the specified interval. The timer will be monitored by <a class="reference internal" href="#group__software__timer__core_1gadb7714439b61db00ea1af95b0f501ff9"><span class="std std-ref">SoftwareTimer_IsExpired()</span></a>.</p>
<p>Implementation details:<ul class="simple">
<li><p>Calls clockTime() to capture current timestamp</p></li>
<li><p>Stores interval value</p></li>
<li><p>Resets evaluated flag to false for one-shot mode</p></li>
<li><p>Includes defensive checks in debug builds </p></li>
</ul>
</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Can be called at any time to restart/reconfigure an existing timer </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Thread-safety depends on the clock source implementation</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>timer</strong> – <strong>[inout]</strong> Pointer to timer structure to configure. Must not be NULL. </p></li>
<li><p><strong>interval</strong> – <strong>[in]</strong> Timer interval in clock ticks. The unit depends on the clock source provided to <a class="reference internal" href="#group__software__timer__core_1ga89a07d416bc8626cd10c77cb0ee8d4dc"><span class="std std-ref">SoftwareTimer_Init</span></a>. Value 0 means the timer expires immediately.</p></li>
</ul>
</dd>
<dt class="field-even">Pre<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#group__software__timer__core_1ga89a07d416bc8626cd10c77cb0ee8d4dc"><span class="std std-ref">SoftwareTimer_Init</span></a> must have been called </p>
</dd>
<dt class="field-odd">Pre<span class="colon">:</span></dt>
<dd class="field-odd"><p>timer must point to a valid <a class="reference internal" href="#structSoftwareTimer"><span class="std std-ref">SoftwareTimer</span></a> structure </p>
</dd>
<dt class="field-even">Post<span class="colon">:</span></dt>
<dd class="field-even"><p>timer-&gt;start is set to current clock time </p>
</dd>
<dt class="field-odd">Post<span class="colon">:</span></dt>
<dd class="field-odd"><p>timer-&gt;interval is set to the provided interval </p>
</dd>
<dt class="field-even">Post<span class="colon">:</span></dt>
<dd class="field-even"><p>timer-&gt;evaluated is reset to false</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv423SoftwareTimer_IsExpiredP13SoftwareTimer">
<span id="_CPPv323SoftwareTimer_IsExpiredP13SoftwareTimer"></span><span id="_CPPv223SoftwareTimer_IsExpiredP13SoftwareTimer"></span><span id="SoftwareTimer_IsExpired__SoftwareTimerP"></span><span class="target" id="group__software__timer__core_1gadb7714439b61db00ea1af95b0f501ff9"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">SoftwareTimer_IsExpired</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv413SoftwareTimer" title="SoftwareTimer"><span class="n"><span class="pre">SoftwareTimer</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">timer</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv423SoftwareTimer_IsExpiredP13SoftwareTimer" title="Link to this definition"></a><br /></dt>
<dd><p>Checks if software timer has expired. </p>
<p>Tests whether the timer interval has elapsed since it was set. This function can be called repeatedly and will continue to return true after the timer has expired, until the timer is reset via <a class="reference internal" href="#group__software__timer__core_1ga7ef903fd480cfbe051fecdea319d527f"><span class="std std-ref">SoftwareTimer_Set</span></a>.</p>
<p>
Example: <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">SoftwareTimer_IsExpired</span><span class="p">(</span><span class="o">&amp;</span><span class="n">myTimer</span><span class="p">))</span> <span class="p">{</span>
    <span class="o">//</span> <span class="n">Handle</span> <span class="n">timeout</span> <span class="o">-</span> <span class="n">will</span> <span class="n">trigger</span> <span class="n">every</span> <span class="n">check</span> <span class="n">after</span> <span class="n">expiration</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#group__software__timer__core_1ga7ef903fd480cfbe051fecdea319d527f"><span class="std std-ref">SoftwareTimer_Set</span></a></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#group__software__timer__core_1gac56ff3121b1a2680f8592fea71bb9201"><span class="std std-ref">SoftwareTimer_Remaining</span></a></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#group__software__timer__core_1gaa974a8fb058f8013430d4bd9d53fa516"><span class="std std-ref">SoftwareTimer_IsExpiredEvaluatedOnce</span></a></p>
</div>
</p>
<p>Compares elapsed time since timer start with the configured interval. Uses unsigned arithmetic which is overflow-safe for 32-bit counters.</p>
<p>Implementation uses the property of unsigned integer arithmetic where (current - start) &gt;= interval works correctly even during overflow. Includes defensive checks in debug builds. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function uses overflow-safe unsigned arithmetic, so it works correctly even when the system clock wraps around at UINT32_MAX. </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Unlike <a class="reference internal" href="#group__software__timer__core_1gaa974a8fb058f8013430d4bd9d53fa516"><span class="std std-ref">SoftwareTimer_IsExpiredEvaluatedOnce</span></a>, this function does not modify timer state and will continue returning true after expiration.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>timer</strong> – <strong>[in]</strong> Pointer to timer structure to check. Must not be NULL.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>true if the elapsed time &gt;= interval </p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>false if timer is still running</p>
</dd>
<dt class="field-even">Pre<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#group__software__timer__core_1ga89a07d416bc8626cd10c77cb0ee8d4dc"><span class="std std-ref">SoftwareTimer_Init</span></a> must have been called </p>
</dd>
<dt class="field-odd">Pre<span class="colon">:</span></dt>
<dd class="field-odd"><p>timer must have been initialized via <a class="reference internal" href="#group__software__timer__core_1ga7ef903fd480cfbe051fecdea319d527f"><span class="std std-ref">SoftwareTimer_Set</span></a></p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv423SoftwareTimer_RemainingP13SoftwareTimer">
<span id="_CPPv323SoftwareTimer_RemainingP13SoftwareTimer"></span><span id="_CPPv223SoftwareTimer_RemainingP13SoftwareTimer"></span><span id="SoftwareTimer_Remaining__SoftwareTimerP"></span><span class="target" id="group__software__timer__core_1gac56ff3121b1a2680f8592fea71bb9201"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">SoftwareTimer_Remaining</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv413SoftwareTimer" title="SoftwareTimer"><span class="n"><span class="pre">SoftwareTimer</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">timer</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv423SoftwareTimer_RemainingP13SoftwareTimer" title="Link to this definition"></a><br /></dt>
<dd><p>Returns remaining time until software timer expiration. </p>
<p>Calculates how many clock ticks remain until the timer expires by computing (interval - elapsed_time). If the timer has already expired, returns 0. This provides more granular information than <a class="reference internal" href="#group__software__timer__core_1gadb7714439b61db00ea1af95b0f501ff9"><span class="std std-ref">SoftwareTimer_IsExpired</span></a>.</p>
<p>
Example: <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">uint32_t</span> <span class="n">remaining</span> <span class="o">=</span> <span class="n">SoftwareTimer_Remaining</span><span class="p">(</span><span class="o">&amp;</span><span class="n">myTimer</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="n">remaining</span> <span class="o">&gt;</span> <span class="mi">100</span><span class="p">)</span> <span class="p">{</span>
    <span class="o">//</span> <span class="n">More</span> <span class="n">than</span> <span class="mi">100</span> <span class="n">ticks</span> <span class="n">remaining</span>
<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">remaining</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="o">//</span> <span class="n">Less</span> <span class="n">than</span> <span class="mi">100</span> <span class="n">ticks</span> <span class="n">remaining</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="o">//</span> <span class="n">Timer</span> <span class="n">has</span> <span class="n">expired</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#group__software__timer__core_1ga7ef903fd480cfbe051fecdea319d527f"><span class="std std-ref">SoftwareTimer_Set</span></a></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#group__software__timer__core_1gadb7714439b61db00ea1af95b0f501ff9"><span class="std std-ref">SoftwareTimer_IsExpired</span></a></p>
</div>
</p>
<p>Calculates how many clock ticks remain until the timer expires. Uses unsigned arithmetic which is overflow-safe for 32-bit counters. If the timer has already expired, returns 0.</p>
<p>Implementation:<ul class="simple">
<li><p>Calculates elapsed time using unsigned subtraction</p></li>
<li><p>Returns 0 if elapsed &gt;= interval (timer expired)</p></li>
<li><p>Otherwise returns remaining time (interval - elapsed)</p></li>
<li><p>Includes defensive checks in debug builds </p></li>
</ul>
</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function uses overflow-safe unsigned arithmetic, so it works correctly even when the system clock wraps around at UINT32_MAX. </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The returned value decreases over time until it reaches 0 at expiration.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>timer</strong> – <strong>[in]</strong> Pointer to timer structure to check. Must not be NULL.</p>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>0</strong> – if timer has already expired</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Number of clock ticks remaining until expiration </p>
</dd>
<dt class="field-even">Pre<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#group__software__timer__core_1ga89a07d416bc8626cd10c77cb0ee8d4dc"><span class="std std-ref">SoftwareTimer_Init</span></a> must have been called </p>
</dd>
<dt class="field-odd">Pre<span class="colon">:</span></dt>
<dd class="field-odd"><p>timer must have been initialized via <a class="reference internal" href="#group__software__timer__core_1ga7ef903fd480cfbe051fecdea319d527f"><span class="std std-ref">SoftwareTimer_Set</span></a></p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv436SoftwareTimer_IsExpiredEvaluatedOnceP13SoftwareTimer">
<span id="_CPPv336SoftwareTimer_IsExpiredEvaluatedOnceP13SoftwareTimer"></span><span id="_CPPv236SoftwareTimer_IsExpiredEvaluatedOnceP13SoftwareTimer"></span><span id="SoftwareTimer_IsExpiredEvaluatedOnce__SoftwareTimerP"></span><span class="target" id="group__software__timer__core_1gaa974a8fb058f8013430d4bd9d53fa516"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">SoftwareTimer_IsExpiredEvaluatedOnce</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv413SoftwareTimer" title="SoftwareTimer"><span class="n"><span class="pre">SoftwareTimer</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">timer</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv436SoftwareTimer_IsExpiredEvaluatedOnceP13SoftwareTimer" title="Link to this definition"></a><br /></dt>
<dd><p>Checks if software timer has expired (one-shot evaluation) </p>
<p>Tests whether the timer interval has elapsed since it was set. Unlike <a class="reference internal" href="#group__software__timer__core_1gadb7714439b61db00ea1af95b0f501ff9"><span class="std std-ref">SoftwareTimer_IsExpired</span></a>, this function returns true only ONCE when the timer expires. Subsequent calls return false until the timer is reset via <a class="reference internal" href="#group__software__timer__core_1ga7ef903fd480cfbe051fecdea319d527f"><span class="std std-ref">SoftwareTimer_Set</span></a>. This is useful for one-shot timer events.</p>
<p>The function works by setting an internal evaluated flag when expiration is detected. Once set, the function returns false on all subsequent calls.</p>
<p>
Example: <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">One</span><span class="o">-</span><span class="n">shot</span> <span class="n">timer</span> <span class="o">-</span> <span class="n">triggers</span> <span class="n">only</span> <span class="n">once</span>
<span class="k">if</span> <span class="p">(</span><span class="n">SoftwareTimer_IsExpiredEvaluatedOnce</span><span class="p">(</span><span class="o">&amp;</span><span class="n">myTimer</span><span class="p">))</span> <span class="p">{</span>
    <span class="o">//</span> <span class="n">This</span> <span class="n">code</span> <span class="n">runs</span> <span class="n">exactly</span> <span class="n">once</span> <span class="n">when</span> <span class="n">timer</span> <span class="n">expires</span>
    <span class="n">printf</span><span class="p">(</span><span class="s2">&quot;Timer expired!</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">);</span>
<span class="p">}</span>
<span class="o">//</span> <span class="n">Subsequent</span> <span class="n">calls</span> <span class="k">return</span> <span class="n">false</span> <span class="n">until</span> <span class="n">SoftwareTimer_Set</span><span class="p">()</span> <span class="ow">is</span> <span class="n">called</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#group__software__timer__core_1ga7ef903fd480cfbe051fecdea319d527f"><span class="std std-ref">SoftwareTimer_Set</span></a></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#group__software__timer__core_1gadb7714439b61db00ea1af95b0f501ff9"><span class="std std-ref">SoftwareTimer_IsExpired</span></a></p>
</div>
</p>
<p>Compares elapsed time since timer start with the configured interval. Uses unsigned arithmetic which is overflow-safe for 32-bit counters. When timer expires, it is automatically deactivated to prevent multiple expiration notifications.</p>
<p>Implementation:<ul class="simple">
<li><p>First checks if already evaluated (one-shot flag)</p></li>
<li><p>If not evaluated, checks if timer expired</p></li>
<li><p>If expired, sets evaluated flag and returns true</p></li>
<li><p>Subsequent calls return false until timer is reset via SoftwareTimer_Set</p></li>
<li><p>Includes defensive checks in debug builds </p></li>
</ul>
</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function uses overflow-safe unsigned arithmetic, so it works correctly even when the system clock wraps around at UINT32_MAX. </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function modifies timer state (evaluated flag), unlike <a class="reference internal" href="#group__software__timer__core_1gadb7714439b61db00ea1af95b0f501ff9"><span class="std std-ref">SoftwareTimer_IsExpired</span></a> which is read-only. </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To reset the one-shot behavior, call <a class="reference internal" href="#group__software__timer__core_1ga7ef903fd480cfbe051fecdea319d527f"><span class="std std-ref">SoftwareTimer_Set</span></a> again.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>timer</strong> – <strong>[inout]</strong> Pointer to timer structure to check. Must not be NULL. The evaluated flag may be modified by this function.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>true if timer just expired (first check after expiration) </p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>false if timer is still running OR has already been evaluated</p>
</dd>
<dt class="field-even">Pre<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#group__software__timer__core_1ga89a07d416bc8626cd10c77cb0ee8d4dc"><span class="std std-ref">SoftwareTimer_Init</span></a> must have been called </p>
</dd>
<dt class="field-odd">Pre<span class="colon">:</span></dt>
<dd class="field-odd"><p>timer must have been initialized via <a class="reference internal" href="#group__software__timer__core_1ga7ef903fd480cfbe051fecdea319d527f"><span class="std std-ref">SoftwareTimer_Set</span></a></p>
</dd>
<dt class="field-even">Post<span class="colon">:</span></dt>
<dd class="field-even"><p>If return value is true, timer-&gt;evaluated is set to true</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-variables">Variables</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv49clockTime">
<span id="_CPPv39clockTime"></span><span id="_CPPv29clockTime"></span><span id="clockTime__SoftwareTimer_ClockTime"></span><span class="target" id="group__software__timer__core_1gab162a2275f09d14ae98073f369f805ee"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv423SoftwareTimer_ClockTime" title="SoftwareTimer_ClockTime"><span class="n"><span class="pre">SoftwareTimer_ClockTime</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">clockTime</span></span></span><a class="headerlink" href="#_CPPv49clockTime" title="Link to this definition"></a><br /></dt>
<dd><p>Static clock time provider function pointer. </p>
<p>This static variable holds the clock source function pointer that was provided via <a class="reference internal" href="#group__software__timer__core_1ga89a07d416bc8626cd10c77cb0ee8d4dc"><span class="std std-ref">SoftwareTimer_Init</span></a>. All timer instances share this single clock source.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This variable is initialized by <a class="reference internal" href="#group__software__timer__core_1ga89a07d416bc8626cd10c77cb0ee8d4dc"><span class="std std-ref">SoftwareTimer_Init</span></a> and must never be NULL during timer operations. </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Sharing a single clock source across all timers ensures consistency and reduces memory footprint. </p>
</div>
</dd></dl>

</div>
<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv413SoftwareTimer">
<span id="_CPPv313SoftwareTimer"></span><span id="_CPPv213SoftwareTimer"></span><span id="SoftwareTimer"></span><span class="target" id="structSoftwareTimer"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">SoftwareTimer</span></span></span><a class="headerlink" href="#_CPPv413SoftwareTimer" title="Link to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;software_timer.h&gt;</em></div>
<p>Timer state structure. </p>
<p>Contains all necessary state information for a single software timer instance. The structure uses 32-bit unsigned integers for overflow-safe arithmetic. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13SoftwareTimer5startE">
<span id="_CPPv3N13SoftwareTimer5startE"></span><span id="_CPPv2N13SoftwareTimer5startE"></span><span id="SoftwareTimer::start__uint32_t"></span><span class="target" id="structSoftwareTimer_1a9c6ce5c7452ac2f0d58d55702c02a94b"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">start</span></span></span><a class="headerlink" href="#_CPPv4N13SoftwareTimer5startE" title="Link to this definition"></a><br /></dt>
<dd><p>Start timestamp captured when timer was set using the clock source from <a class="reference internal" href="#group__software__timer__core_1ga89a07d416bc8626cd10c77cb0ee8d4dc"><span class="std std-ref">SoftwareTimer_Init</span></a></p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13SoftwareTimer8intervalE">
<span id="_CPPv3N13SoftwareTimer8intervalE"></span><span id="_CPPv2N13SoftwareTimer8intervalE"></span><span id="SoftwareTimer::interval__uint32_t"></span><span class="target" id="structSoftwareTimer_1a1b4290bcaecd0be769e13ca637273a95"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">interval</span></span></span><a class="headerlink" href="#_CPPv4N13SoftwareTimer8intervalE" title="Link to this definition"></a><br /></dt>
<dd><p>Timer interval duration in clock ticks. Timer expires when (current_time - start) &gt;= interval </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13SoftwareTimer9evaluatedE">
<span id="_CPPv3N13SoftwareTimer9evaluatedE"></span><span id="_CPPv2N13SoftwareTimer9evaluatedE"></span><span id="SoftwareTimer::evaluated__b"></span><span class="target" id="structSoftwareTimer_1afc25c232f666edcdba69e44269c53966"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">evaluated</span></span></span><a class="headerlink" href="#_CPPv4N13SoftwareTimer9evaluatedE" title="Link to this definition"></a><br /></dt>
<dd><p>One-shot evaluation flag. When true, <a class="reference internal" href="#group__software__timer__core_1gaa974a8fb058f8013430d4bd9d53fa516"><span class="std std-ref">SoftwareTimer_IsExpiredEvaluatedOnce</span></a> has already detected expiration </p>
</dd></dl>

</div>
</dd></dl>

</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="getting_started.html" class="btn btn-neutral float-left" title="Getting started" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Richard Kubíček.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>